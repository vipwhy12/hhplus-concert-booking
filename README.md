# 🎸 콘서트 예약 서비스

다음과 같은 주요 기능을 제공합니다.

- 대기열 시스템
  - 좌석 예약 시 요청이 순차적으로 처리되며, 모든 요청이 공정하게 관리 될 수 있도록 구현하였습니다.
- 좌석 예약 보호
  - 예약 요청 일정 시간 동안 결제가 이루어지지 않더라도, 해당 좌석은 다른 유저가 예약할 수 없습니다.
  - 시간이 초과되면 좌석은 다시 다른 유저에게 예약 가능해집니다.
- 결제 기능
  - 유저는 원하는 좌석을 선택하고, 포인트로 결제할 수 있습니다.
- 포인트 시스템

  - 유저는 자신의 계정에 포인트를 충전하여, 이를 콘서트 티켓 결제 시 사용할 수 있습니다.

# 1. 콘서트 예약 서비스의 아키텍처

서비스는 4계층 아키텍처를 기반으로 설계되었으며, 각 계층은 특정 역할을 수행합니다.

![이미지 설명](/assets/images/콘서트_서비스_아키텍처2.png)

## 1.1 Presentation Layer

- 폴더 구조: `/src/interfaces`
- 외부와의 상호작용하는 부분으로, 사용자의 요청을 처리하고 응답을 반환하는 역할을 합니다.
- `/scheduler` 가 프레젠테이션 계층에 있는 이유는 스케줄러는 주기적으로 대기열의 상태를 확인하고 갱신하는 역할을 하며, 이러한 작업은 사용자에게 직접적인 영향을 미칠 수 있습니다. 또한 이후 외부 시스템과 연결될 가능성이 있습니다.

## 1.2 Application Layer

- 폴더 구조: `/src/application`
- 파사드 패턴을 사용하여 도메인 계층과 프레젠테이션 계층을 연결하는 역할을 합니다. 이 계층에서는 도메인 계층의 다양한 서비스(예: 콘서트, 포인트 등)를 통합하여 외부에서 쉽게 접근할 수 있습니다.

## 1.3 Domain Layer

- 폴더 구조: `/src/domain`
- 시스템의 핵심 비즈니스 로직을 포함하며, 비즈니스 규칙을 처리하는 코드를 포함합니다.
- 레이어드 아키텍처의 단점 중 하나는 높은 결합도입니다. 이를 해결하기 위해 레포지토리 패턴을 사용하여 인프라스트럭처 계층을 추상화하였고, 도메인 계층이 인프라스트럭처에 직접 의존하지 않도록 설계하였습니다.
  - 이를 통해 도메인 로직은 데이터베이스와 같은 세부 사항에 구애받지 않고 독립적으로 동작할 수 있으며, 인프라스트럭처의 변경에도 유연하게 대응할 수 있습니다.

## 1.4 Infrastructure Layer

- 폴더 구조: `/src/infrastructure`
- 인프라스트럭처 계층은 도메인 계층에서 사용하는 저장소나 외부 자원과의 직접적인 통신을 처리하며, 도메인 계층에서 이를 추상화된 형태로 사용하도록 합니다. 이를 통해 도메인 계층과의 결합도를 낮추고, 시스템의 확장성을 높입니다.

# 목차

### `STEP 05`

- [x] 시나리오 선정
- [x] 프로젝트 Milestone 제출
- [x] 시나리오 요구사항 별 분석 자료 제출(시퀀스 다이어그램 )
- [x] 리드미에 작성 후 PR 링크 제출

1. **시나리오 선정**: 콘서트 예약 서비스 🎶
2. **프로젝트 Milestone**: 📎 [Milestone](https://github.com/users/vipwhy12/projects/2)
3. **시나리오 요구사항 분석**: 📎 [시퀀스 다이어그램](https://github.com/vipwhy12/hhplus-concert-booking/blob/docs/README/dosc/dosc.sequence.diagram.md)

### `STEP 06`

- [x] ERD 설계 자료 제출
- [x] API 명세서 작성
- [x] Mock API
- [x] 기본 패키지 구조

1. **ERD 설계**: 📎[ERD](https://github.com/vipwhy12/hhplus-concert-booking/blob/feat/step6/docs/erd.md)
2. **API 명세서**: 📎[API 명세서](https://github.com/vipwhy12/hhplus-concert-booking/blob/feat/step6/docs/api.md)
3. **기본 패키지 구조**: 📎[패키지 구조](https://github.com/vipwhy12/hhplus-concert-booking/blob/feat/step6/docs/package.md)
